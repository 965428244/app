## Определение расширения для Chrome

* На запрос `identify-client` получен ответ `client-id` с полем `id: 'chrome'`.
* Если нет ответа, значит, либо расширение не установлено, либо не запущен браузер.

### Определяем наличие расширения с незапущенным Chrome

1. Используем [browser-launcher2](https://github.com/benderjs/browser-launcher2) для получения списка текущих браузеров (метод `.detect()`).
2. Находим папку, в которую установлен Chrome.
3. В подпапке с профилями находим папку с ID расширения

### Если Chrome нет или не удалось его найти

Предлагаем вручную пойти по ссылке ниже.

### Установка расширения Chrome

С помощью `browser-launcher2` запускаем Chrome, который ведёт на страницу на домене `livestyle.io` с инструкцией по установке.

---

## Определение расширения для Sublime Text 3

* На запрос `identify-client` получен ответ `client-id` с полем `id: 'st3'`.
* Если нет ответа, значит, либо расширение не установлено, либо не запущен редактор.

### Определяем наличие расширения с незапущенным Sublime Text 3

1. Используем идеи из [browser-launcher2](https://github.com/benderjs/browser-launcher2) и [win-detect-browsers](https://github.com/vweevers/win-detect-browsers) для получения папки, в которую установлен ST3. 
2. Внутри этой папки находим папку `Packages` и устанавливаем туда расширение:
    а. Если есть `git`, то делаем `git clone` и периодически, время от времени, делаем `git pull` для обновления плагина.
    b. Если `git` нет, выкачиваем последнюю версию плагина по ссылке https://github.com/livestyle/sublime-text/archive/master.zip. Через GitHub API получаем хэш последнего коммита и сохраняем его вместе с плагином. Пероидически получаем последний коммит из GitHub и, если он отличается, заново выкачиваем плагин и в фоновом режиме обновляем его.

### Если Sublime Text нет или не удалось его найти

Сообщаем об этом пользователю и предлагаем выбрать папку, в которой есть ST3 (portbale-версия, например), после чего продолжаем установку как описано выше.